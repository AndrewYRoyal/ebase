devtools::install('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz')
devtools::install('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz')
install.packages('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz', type = 'source', repos = NULL)
library('ebase')
.libPaths()
setwd('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase')
lapply(c('data.table', 'mlr'), library, character.only = TRUE)
#library('ebase')
rm(list = ls())
source('R/functions.R')
sampDT <- fread('vignettes/vignetteData.csv')
sampDT[meter == 'J', eventStart:= '2/1/2017']
sampDT[meter == 'J', eventEnd:= '7/1/2017']
useDT <- unique(sampDT[, .(meterID = meter, date, hr = hour, elct = electricity, temp = temperature)])
useDT[, date:= as.POSIXct(paste0(date, ' ', hr), tz = 'UTC', format = '%m/%d/%Y %H')]; useDT[, hr:= NULL]
meterDT <- unique(sampDT[, .(meterID = meter,
inDate = as.POSIXct(install_date, tz = 'UTC', format = '%m/%d/%Y'),
propertyName = 'Playboy Mansion')])
propDT <- unique(sampDT[, .(meterID = meter, propertyName = 'Playboy Mansion')])
#==================================================================
Start <- Sys.time()
# Specify min number of days
ebDT <- ebDataFormat(useDT = useDT,
meterDT = meterDT,
base.length = 24,
date.format = '%m/%d/%Y %H',
padding = 1,
interval = 'hourly')
ebModelList <- ebModel(ebDT, type = 'GBoost', option = list(nrounds = c(200), eta = c(0.1), blocks = 3))
predDT <- ebPredict(ebModelList, ebDT)
ebSummary(predDT = predDT, meterDT = meterDT)
Sys.time() - Start
ebModelList$modelList
