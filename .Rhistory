options <- NULL
pSet <- list(max_depth = 3,
nrounds = seq(200, 1400, 200),
early_stopping_rounds = 5,
eta = 0.1)
'max_depth' %in% pSet
pSet$sef
seq(200, 1400, 200)
setwd('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase')
lapply(c('data.table', 'mlr'), library, character.only = TRUE)
#library('ebase')
rm(list = ls())
source('R/functions.R')
sampDT <- fread('vignettes/vignetteData.csv')
sampDT[meter == 'J', eventStart:= '2/1/2017']
sampDT[meter == 'J', eventEnd:= '7/1/2017']
useDT <- unique(sampDT[, .(meterID = meter, date, hr = hour, elct = electricity, temp = temperature)])
useDT[, date:= as.POSIXct(paste0(date, ' ', hr), tz = 'UTC', format = '%m/%d/%Y %H')]; useDT[, hr:= NULL]
meterDT <- unique(sampDT[, .(meterID = meter,
inDate = as.POSIXct(install_date, tz = 'UTC', format = '%m/%d/%Y'),
propertyName = 'Playboy Mansion')])
propDT <- unique(sampDT[, .(meterID = meter, propertyName = 'Playboy Mansion')])
#==================================================================
Start <- Sys.time()
# Specify min number of days
ebDT <- ebDataFormat(useDT = useDT,
meterDT = meterDT,
base.length = 24,
date.format = '%m/%d/%Y %H',
padding = 1,
interval = 'hourly')
ebModelList <- ebModel(ebDT, type = 'GBoost')
predDT <- ebPredict(ebModelList, ebDT)
ebSummary(predDT = predDT, meterDT = meterDT)
Sys.time() - Start
ifelse(!is.null(options$blocks), 2, options$blocks)
blocks <- 2
if(!is.null(options$blocks)) blocks <- options$blocks
setwd('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase')
lapply(c('data.table', 'mlr'), library, character.only = TRUE)
#library('ebase')
rm(list = ls())
source('R/functions.R')
sampDT <- fread('vignettes/vignetteData.csv')
sampDT[meter == 'J', eventStart:= '2/1/2017']
sampDT[meter == 'J', eventEnd:= '7/1/2017']
useDT <- unique(sampDT[, .(meterID = meter, date, hr = hour, elct = electricity, temp = temperature)])
useDT[, date:= as.POSIXct(paste0(date, ' ', hr), tz = 'UTC', format = '%m/%d/%Y %H')]; useDT[, hr:= NULL]
meterDT <- unique(sampDT[, .(meterID = meter,
inDate = as.POSIXct(install_date, tz = 'UTC', format = '%m/%d/%Y'),
propertyName = 'Playboy Mansion')])
propDT <- unique(sampDT[, .(meterID = meter, propertyName = 'Playboy Mansion')])
#==================================================================
Start <- Sys.time()
# Specify min number of days
ebDT <- ebDataFormat(useDT = useDT,
meterDT = meterDT,
base.length = 24,
date.format = '%m/%d/%Y %H',
padding = 1,
interval = 'hourly')
ebModelList <- ebModel(ebDT, type = 'GBoost')
predDT <- ebPredict(ebModelList, ebDT)
ebSummary(predDT = predDT, meterDT = meterDT)
Sys.time() - Start
option$blocks
setwd('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase')
lapply(c('data.table', 'mlr'), library, character.only = TRUE)
#library('ebase')
rm(list = ls())
source('R/functions.R')
sampDT <- fread('vignettes/vignetteData.csv')
sampDT[meter == 'J', eventStart:= '2/1/2017']
sampDT[meter == 'J', eventEnd:= '7/1/2017']
useDT <- unique(sampDT[, .(meterID = meter, date, hr = hour, elct = electricity, temp = temperature)])
useDT[, date:= as.POSIXct(paste0(date, ' ', hr), tz = 'UTC', format = '%m/%d/%Y %H')]; useDT[, hr:= NULL]
meterDT <- unique(sampDT[, .(meterID = meter,
inDate = as.POSIXct(install_date, tz = 'UTC', format = '%m/%d/%Y'),
propertyName = 'Playboy Mansion')])
propDT <- unique(sampDT[, .(meterID = meter, propertyName = 'Playboy Mansion')])
#==================================================================
Start <- Sys.time()
# Specify min number of days
ebDT <- ebDataFormat(useDT = useDT,
meterDT = meterDT,
base.length = 24,
date.format = '%m/%d/%Y %H',
padding = 1,
interval = 'hourly')
ebModelList <- ebModel(ebDT, type = 'GBoost')
predDT <- ebPredict(ebModelList, ebDT)
ebSummary(predDT = predDT, meterDT = meterDT)
Sys.time() - Start
ebModelList$modelList$I
ebModelList$modelList$J
ebModelList$modelList$L
ebModelList <- ebModel(ebDT, type = 'GBoost', option = list(nrounds = c(200, 3000), eta = c(0.01, 0.05, 0.1)))
setwd('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase')
lapply(c('data.table', 'mlr'), library, character.only = TRUE)
#library('ebase')
rm(list = ls())
source('R/functions.R')
sampDT <- fread('vignettes/vignetteData.csv')
sampDT[meter == 'J', eventStart:= '2/1/2017']
sampDT[meter == 'J', eventEnd:= '7/1/2017']
useDT <- unique(sampDT[, .(meterID = meter, date, hr = hour, elct = electricity, temp = temperature)])
useDT[, date:= as.POSIXct(paste0(date, ' ', hr), tz = 'UTC', format = '%m/%d/%Y %H')]; useDT[, hr:= NULL]
meterDT <- unique(sampDT[, .(meterID = meter,
inDate = as.POSIXct(install_date, tz = 'UTC', format = '%m/%d/%Y'),
propertyName = 'Playboy Mansion')])
propDT <- unique(sampDT[, .(meterID = meter, propertyName = 'Playboy Mansion')])
#==================================================================
Start <- Sys.time()
# Specify min number of days
ebDT <- ebDataFormat(useDT = useDT,
meterDT = meterDT,
base.length = 24,
date.format = '%m/%d/%Y %H',
padding = 1,
interval = 'hourly')
ebModelList <- ebModel(ebDT, type = 'GBoost', option = list(nrounds = c(200, 3000), eta = c(0.01, 0.05, 0.1)))
predDT <- ebPredict(ebModelList, ebDT)
ebSummary(predDT = predDT, meterDT = meterDT)
Sys.time() - Start
ebModelList$modelList$L
ebModelList$modelList
ebModelList$modelList
