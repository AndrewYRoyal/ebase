devtools::install('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz')
devtools::install('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz')
install.packages('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz', type = 'source', repos = NULL)
library('ebase')
.libPaths()
setwd('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase')
lapply(c('data.table', 'lfe', 'ggplot2', 'xgboost', 'ggthemes'), library, character.only = TRUE)
rm(list = ls())
source('R/mainFunctions.R')
source('R/helperFunctions.R')
#library('ebase')
sampDT <- fread('vignettes/vignetteData.csv')
sampDT[meter == 'J', eventStart:= '2/1/2017']
sampDT[meter == 'J', eventEnd:= '7/1/2017']
useDT <- unique(sampDT[, .(meterID = meter, date, hr = hour, elct = electricity, temp = temperature)])
meterDT <- unique(sampDT[, .(meterID = meter,
inDate = install_date,
propertyName = 'Playboy Mansion')])
meterDT[meterID == 'J', c('oStart', 'oEnd'):= list(1, 5)]
propDT <- unique(sampDT[, .(meterID = meter, propertyName = 'Playboy Mansion')])
# Get model
startTime <- Sys.time()
bList <- baselineModel(useDT = useDT,
meterDT = meterDT,
base.length = 12,
date.format = '%m/%d/%Y',
gboost = FALSE,
padding = 30)
Sys.time() - startTime
summary(bList)
truncated_savings(bList)
