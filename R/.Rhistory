devtools::install('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz')
devtools::install('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz')
install.packages('C:/Users/Andrew/Dropbox/Res-Intel Model/R_Packages/ebase/ebase_0.1.0.tar.gz', type = 'source', repos = NULL)
library('ebase')
.libPaths()
1 - .7*1.96
lb = function(r){
1/r - .7*1.96/(r^2)
}
lb(.05)
itt <- function(se){
1 - se*1.96
}
late = function(se){
1/.05 - se*1.96/(.05^2)
}
plot(itt(0:1/10))
0:1/10
plot(itt(0:10/10))
plot(itt(10:0/10))
plot(itt(10:0/10))
plot(late(10:0/10), add = TRUE)
plot(itt(10:0/10))
lines(late(10:0/10), add = TRUE)
plot(itt(10:0/10))
plot(itt(10:0/10))
lines(late(10:0/10), add = TRUE)
plot(itt(10:0/10))
plot(itt(10:0/10))
plot(itt(10:0/10))
lines(late(10:0/10))
plot(itt(10:0/10))
plot(late(10:0/10))
library(data.table)
plotDT <- data.table(se = seV,
itt = itt(seV),
late = late(seV))
seV <- 10:0/10
plotDT <- data.table(se = seV,
itt = itt(seV),
late = late(seV))
with(plotDT,
plot(se, late))
with(plotDT,
plot(se, itt))
with(plotDT,
plot(se, late))
plotDT
late = function(se){
1/.05 - se*1.96/(.05)
}
plotDT <- data.table(se = seV,
itt = itt(seV),
late = late(seV))
plotDT
lapply(plotDT, function(x) sum(x < 0))
sapply(plotDT, function(x) sum(x < 0))
seV <- 100:0/100
plotDT <- data.table(se = seV,
itt = itt(seV),
late = late(seV))
sapply(plotDT, function(x) sum(x < 0))
plotDT
library('rnoaa')
install.packages('rnoaa')
library('rnoaa')
library('data.table')
sdCentroid <- c(lon = -117.161087, lat = 32.715736)
sdCent <- c(lon = -117.161087, lat = 32.715736)
sdCent
isd_stations_search(lat = sdCent['lat'], lon = sdCent['lon'])
?ncdc(datasetid='NORMAL_HLY')
ncdc(datasetid='NORMAL_HLY', locationid = 'FIPS:06')
ncdc(datasetid='NORMAL_HLY', locationid = 'FIPS:06', token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
ncdc(datasetid='NORMAL_HLY', token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
ncdc_stations(datasetid='NORMAL_HLY', token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
normStations <- ncdc_stations(datasetid='NORMAL_HLY', token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
normStations
normStations$data
normStations$meta
normStations$meta$totalCount
normStations$data
as.data.table(normStations)
as.data.table(normStations$data)
x = as.data.table(normStations$data)
x
normStations <- ncdc_stations(
datasetid = 'NORMAL_HLY',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn',
locationid = 'FIPS:06')
normStations
isdStations <- isd_stations_search(lat = sdCent['lat'], lon = sdCent['lon'])
isdStations
ncdc(datasetid = 'NORMAL_HLY',
stationid = 'GHCND:USW00023188',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
ncdc(datasetid = 'NORMAL_HLY',
stationid = 'GHCND:23188',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
ncdc(datasetid = 'NORMAL_HLY',
stationid = 'GHCND:USW00023188',
startdate = '2018-01-01',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
ncdc(datasetid = 'NORMAL_HLY',
stationid = 'GHCND:USW00023188',
startdate = '2018-01-01',
enddate = '2018-02-01',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
ncdc(datasetid = 'NORMAL_HLY',
stationid = 'GHCND:USW00023188',
startdate = '2010-01-01',
enddate = '2010-02-01',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
Sys.time()
year(Sys.time())
as.character(Sys.time())
trunc.POSIXt(Sys.time(), 'days')
norms <- ncdc(datasetid = 'NORMAL_HLY',
stationid = 'GHCND:USW00023188',
startdate = '2010-01-01',
enddate = '2010-02-01',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
?isd()
tempDT <- isd(wban = isdStation, 2017)
isdStation <- '23188'
tempDT <- isd(wban = isdStation, 2017)
tempDT <- isd(wban = isdStation, year = 2017)
normStation <- 'GHCND:USW00023188'
isdStation <- '23188'
# sdCent <- c(lon = -117.161087, lat = 32.715736)
norms <- ncdc(datasetid = 'NORMAL_HLY',
stationid = normStation,
startdate = '2010-01-01',
enddate = '2010-12-31',
token = 'FzscfZkKABrSgKQgCtjVRaAZsUzrlCMn')
tempDT <- isd(wban = isdStation, year = 2017)
norms
norms$data
View(norms$data)
norms <- fread('https://rredc.nrel.gov/solar/old_data/nsrdb/1991-2005/data/tmy3/722900TYA.CSV')
norms
names(normsDT)
normsDT <- fread('https://rredc.nrel.gov/solar/old_data/nsrdb/1991-2005/data/tmy3/722900TYA.CSV')
names(normsDT)
grep(names(normsDT), 'temp', value = TRUE)
grep('temp', names(normsDT),  value = TRUE)
normsDT[, list(
date = as.POSIXct(paste0("Date (MM/DD/YYYY)", ' ', "Time (HH:MM)"), format = '%m/%d/%Y %H', tz = 'UTC'),
temp = as.numeric(`Dry-bulb (C)`)*(9/5) + 32)]
normsDT[, list(
date = as.POSIXct(paste0(`Date (MM/DD/YYYY)`, ' ', `Time (HH:MM)`), format = '%m/%d/%Y %H', tz = 'UTC'),
temp = as.numeric(`Dry-bulb (C)`)*(9/5) + 32)]
dygraphs::dygraph(normsDT)
normsDT
normsDT <- fread('https://rredc.nrel.gov/solar/old_data/nsrdb/1991-2005/data/tmy3/722900TYA.CSV')
normsDT <- normsDT[, list(
date = as.POSIXct(paste0(`Date (MM/DD/YYYY)`, ' ', `Time (HH:MM)`), format = '%m/%d/%Y %H', tz = 'UTC'),
temp = as.numeric(`Dry-bulb (C)`)*(9/5) + 32)]
dygraphs::dygraph(normsDT)
normsDT <- fread('https://rredc.nrel.gov/solar/old_data/nsrdb/1991-2005/data/tmy3/722900TYA.CSV')
normsDT
c(-Inf, 45 + 0:9*5, Inf)
